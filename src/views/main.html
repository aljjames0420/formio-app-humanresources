<div class="row">
  <div class="col-sm-12">
    <h1>Forms <a ng-if="isAdministrator" style="font-size: 0.5em;" href="http://help.form.io/userguide/#forms" target="_blank"><i
      class="glyphicon glyphicon-question-sign "></i></a></h1>
    <div class="well" ng-if="isAdministrator">
      <p>Below are all the forms available for your application. You can either edit an existing form, or create a new one
      by click on the <strong>Create New Form</strong> button.</p>
      <p>
        If your users aren't seeing the forms, be sure to give them permissions on the form's Permissions tab. A typical use case is to give the "Authenticated" role the "Create Own Submission" and "Read Own Submission" permissions.
      </p>
    </div>
    <div style="margin-bottom: 10px;" ng-if="isAdministrator">
      <a ui-sref="createForm({formType: 'form'})" class="btn btn-primary"><span class="glyphicon glyphicon-plus"></span>
        Create New Form</a>
    </div>
    <span class="glyphicon glyphicon-refresh glyphicon-spin" style="font-size: 2em;" ng-if="loading"></span>
    <table class="table table-striped">
      <tbody>
      <tr data-ng-repeat="form in forms" ng-if="isAdministrator || hasAccess(form.name, ['create_own', 'create_all', 'read_all', 'create_own'])">
        <td>
          <div class="row">
            <div class="col-sm-8">
              <a ui-sref="form.view({formId: form._id})"><h5>{{ form.title }}</h5></a>
            </div>
            <div class="col-sm-4">
              <div class="button-group pull-right" style="display:flex;">
                <a ng-if="isAdministrator || hasAccess(form.name, ['create_own', 'create_all'])" ui-sref="form.view({formId: form._id})" class="btn btn-default btn-xs">
                  <span class="glyphicon glyphicon-pencil"></span> Enter Data
                </a>&nbsp;
                <a ng-if="isAdministrator || hasAccess(form.name, ['read_all', 'create_own'])" ui-sref="form.submission.index({formId: form._id})" class="btn btn-default btn-xs">
                  <span class="glyphicon glyphicon-list-alt"></span> View Data
                </a>&nbsp;
                <a ng-if="isAdministrator" ui-sref="form.edit({formId: form._id})" class="btn btn-default btn-xs">
                  <span class="glyphicon glyphicon-edit"></span> Edit Form
                </a>&nbsp;
                <a ng-if="isAdministrator" ui-sref="form.delete({formId: form._id, formType: 'form'})" class="btn btn-default btn-xs">
                  <span class="glyphicon glyphicon-trash"></span>
                </a>
              </div>
            </div>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
    <bgf-pagination
      collection="forms"
      url="formsUrl"
      per-page="formsPerPage"
      template-url="./views/partials/pager.html"
    ></bgf-pagination>
  </div>
</div>
